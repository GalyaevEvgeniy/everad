"use strict";function onEvent(t,e,n){return e.split(" ").forEach(function(e){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}),t}NodeList.prototype.forEach||(NodeList.prototype.forEach=function(t,e){var n,o;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),a=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),o=0;o<a;){var i;o in r&&(i=r[o],t.call(n,i,o,r)),o++}}),function(){var t=function(t){return new RegExp("(^| )"+t+"( |$)")},e=function(t,e,n){for(var o=0;o<t.length;o++)e.call(n,t[o])};function n(t){this.element=t}n.prototype={add:function(){e(arguments,function(t){this.contains(t)||(this.element.className+=" "+t)},this)},remove:function(){e(arguments,function(e){this.element.className=this.element.className.replace(t(e),"")},this)},toggle:function(t){return this.contains(t)?(this.remove(t),!1):(this.add(t),!0)},contains:function(e){return t(e).test(this.element.className)},replace:function(t,e){this.remove(t),this.add(e)}},"classList"in Element.prototype||Object.defineProperty(Element.prototype,"classList",{get:function(){return new n(this)}}),window.DOMTokenList&&null==DOMTokenList.prototype.replace&&(DOMTokenList.prototype.replace=n.prototype.replace)}(),NodeList.prototype.onEvent=function(t,e){for(var n,o=0;n=this[o++];)onEvent(n,t,e);return this},function(){var t=document.querySelectorAll('.form input[name="phone"]'),e=document.querySelectorAll('.form input[name="name"]');t.onEvent("input paste change",function(t){var e=t.target,n=e.value,o=/[^0-9]/g;n.match(o)&&(e.value=n.replace(o,""),e.style.backgroundColor="rgba(255, 0, 0, .75)",setTimeout(function(){e.setAttribute("style","")},150))}),e.onEvent("input paste change",function(t){var e=t.target,n=e.value,o=/[^A-Za-zЁёА-Яа-я ]/g;n.match(o)&&(e.value=n.replace(o,""),e.style.backgroundColor="rgba(255, 0, 0, .75)",setTimeout(function(){e.setAttribute("style","")},150))}),document.querySelectorAll(".form form").onEvent("submit",function(n){n.preventDefault(),n.stopPropagation(),alert("Ваша заявка отправленна\n\nВ ближайшее время с вами свяжутся наши специалисты");var o=new FormData,r=new XMLHttpRequest;o.append("phone",t.value),o.append("name",e.value),r.open("POST","./some_url"),r.send(o),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(t.value="",e.value="",200===r.status?alert("Ваша заявка отправленна\n\nВ ближайшее время с вами свяжутся наши специалисты"):(console.error("Ошибка с сервера при отправке формы"),console.error(r.response)))}})}();